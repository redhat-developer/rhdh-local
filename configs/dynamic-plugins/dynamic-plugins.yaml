# This is the default dynamic plugins config, and any user configuration should be added dynamic-plugins.override.yaml instead
includes:
  - dynamic-plugins.default.yaml
plugins:
  - package: https://github.com/rhdhorchestrator/orchestrator-plugins-internal-release/releases/download/v1.6.0/backstage-plugin-orchestrator-1.6.0.tgz
    integrity: sha512-fOSJv2PgtD2urKwBM7p9W6gV/0UIHSf4pkZ9V/wQO0eg0Zi5Mys/CL1ba3nO9x9l84MX11UBZ2r7PPVJPrmOtw==
    disabled: false
    pluginConfig:
      dynamicPlugins:
        frontend:
          red-hat-developer-hub.backstage-plugin-orchestrator:
            appIcons:
              - importName: OrchestratorIcon
                name: orchestratorIcon
            dynamicRoutes:
              - importName: OrchestratorPage
                menuItem:
                  icon: orchestratorIcon
                  text: Orchestrator
                path: /orchestrator
  - disabled: false
    package: https://github.com/rhdhorchestrator/orchestrator-plugins-internal-release/releases/download/v1.6.0/backstage-plugin-orchestrator-backend-dynamic-1.6.0.tgz
    integrity: sha512-Kr55YbuVwEADwGef9o9wyimcgHmiwehPeAtVHa9g2RQYoSPEa6BeOlaPzB6W5Ke3M2bN/0j0XXtpLuvrlXQogA==
    pluginConfig:
      orchestrator:
        dataIndexService:
          url: http://sonataflow:8899
  - disabled: false
    package: https://github.com/rhdhorchestrator/orchestrator-plugins-internal-release/releases/download/v1.6.0/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic-1.6.0.tgz
    integrity: sha512-Bueeix4661fXEnfJ9y31Yw91LXJgw6hJUG7lPVdESCi9VwBCjDB9Rm8u2yPqP8sriwr0OMtKtqD+Odn3LOPyVw==
    pluginConfig:
      orchestrator:
        dataIndexService:
          url: http://sonataflow:8899
  - disabled: false
    package: https://github.com/rhdhorchestrator/orchestrator-plugins-internal-release/releases/download/v1.6.0/backstage-plugin-orchestrator-form-widgets-1.6.0.tgz
    integrity: sha512-Tqn6HO21Q1TQ7TFUoRhwBVCtSBzbQYz+OaanzzIB0R24O6YtVx3wR7Chtr5TzC05Vz5GkBO1+FZid8BKpqljgA==
    pluginConfig:
      dynamicPlugins:
        frontend:
          red-hat-developer-hub.backstage-plugin-orchestrator-form-widgets: {}

  # EXAMPLES:
  # loading plugin from host directory
  # - package: ./local-plugins/todo
  #   disabled: false
  #   pluginConfig:
  #     dynamicPlugins:
  #       frontend:
  #         backstage-community.plugin-todo:
  #           mountPoints:
  #             - mountPoint: entity.page.todo/cards
  #               importName: EntityTodoContent
  #           entityTabs:
  #             - path: /todo
  #               title: Todo
  #               mountPoint: entity.page.todo

  # loading image from container image
  #  - package: oci://docker.io/tomaskral/simple-chat:v0.0.1!internal-backstage-plugin-simple-chat
  #    disabled: false
  #    pluginConfig:
  #      dynamicPlugins:
  #        frontend:
  #            internal.backstage-plugin-simple-chat:
  #              appIcons:
  #                - name: chatIcon
  #                  importName: ChatIcon
  #              dynamicRoutes:
  #                - path: /simple-chat
  #                  importName: SimpleChatPage
  #                  menuItem:
  #                    text: 'Simple Chat'
  #                    icon: chatIcon

  # # loading image from tarball URL
  # - disabled: false
  #   package: >-
  #       https://github.com/redhat-developer/rhdh-plugin-export-backstage-community-plugins/releases/download/v1.2.0/backstage-community-plugin-tech-insights-dynamic-0.3.28.tgz
  #   integrity: sha512-cNHXSwPa5fOi2BcNVSe7tfdLyM0JY988CE5t+P9p/XlboP1QpQbMcLBmqPrlXZdpedAyp81Zz3yPQYGnPuy9ww==
  #   pluginConfig:
  #     dynamicPlugins:
  #       techInsights:
  #         factRetrievers:
  #           entityOwnershipFactRetriever:
  #             cadence: '*/15 * * * *'
  #             lifecycle: { timeToLive: { weeks: 2 } }
  #           entityMetadataFactRetriever:
  #             cadence: '*/15 * * * *'
  #             lifecycle: { timeToLive: { weeks: 2 } }
  #           techdocsFactRetriever:
  #             cadence: '*/15 * * * *'
  #             lifecycle: { timeToLive: { weeks: 2 } }
  #           apiDefinitionFactRetriever:
  #             cadence: '*/15 * * * *'
  #     lifecycle: { timeToLive: { weeks: 2 } }

  # # loading plugin from directory inside the RHDH container
  # - package: ./dynamic-plugins/dist/backstage-community-plugin-rbac
  #   disabled: true
  #   pluginConfig:
  #     dynamicPlugins:
  #       frontend:
  #         backstage-community.plugin-rbac:
  #           mountPoints:
  #             - mountPoint: admin.page.rbac/cards
  #               module: RbacPlugin
  #               importName: RbacPage
  #               config:
  #                 layout:
  #                   gridColumn: "1 / -1"
  #                   width: 100vw
  #                 props:
  #                   useHeader: false
  #           dynamicRoutes:
  #             - path: /admin/rbac
  #               module: RbacPlugin
  #               importName: RbacPage
