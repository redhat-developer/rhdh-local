# Developer Lightspeed dynamic plugin override config.
# Copy to dynamic-plugins.override.yaml to activate dynamic plugins.

includes:
  - dynamic-plugins.default.yaml
plugins:
  - package: oci://ghcr.io/redhat-developer/rhdh-plugin-export-overlays/red-hat-developer-hub-backstage-plugin-lightspeed:bs_1.39.1__0.5.7!red-hat-developer-hub-backstage-plugin-lightspeed
    disabled: false
    pluginConfig:
      lightspeed:
        # OPTIONAL: Custom users prompts displayed to users
        # If not provided, the plugin uses built-in default prompts
        prompts:
          - title: 'Getting Started with Red Hat Developer Hub'
            message: Can you guide me through the first steps to start using Developer Hub
              as a developer, like exploring the Software Catalog and adding my
              service?
      dynamicPlugins:
        frontend:
          red-hat-developer-hub.backstage-plugin-lightspeed:
            appIcons:
              - name: LightspeedIcon
                module: LightspeedPlugin
                importName: LightspeedIcon
            dynamicRoutes:
              - path: /lightspeed
                importName: LightspeedPage
                module: LightspeedPlugin
                menuItem:
                  icon: LightspeedIcon
                  text: Lightspeed
  - package: oci://ghcr.io/redhat-developer/rhdh-plugin-export-overlays/red-hat-developer-hub-backstage-plugin-lightspeed-backend:bs_1.39.1__0.5.7!red-hat-developer-hub-backstage-plugin-lightspeed-backend
    disabled: false
    pluginConfig:
      lightspeed:
        # REQUIRED: Configure LLM servers with OpenAI API compatibility
        servers:
          - id: ${LLM_SERVER_ID}
            url: ${LLM_SERVER_URL}
            token: ${LLM_SERVER_TOKEN}

        # OPTIONAL: Enable/disable question validation (default: true)
        # When enabled, restricts questions to RHDH-related topics for better security
        questionValidation: true
        # OPTIONAL: Port for lightspeed service (default: 8080)
        # servicePort: ${LIGHTSPEED_SERVICE_PORT}

        # OPTIONAL: Override default RHDH system prompt
        # systemPrompt: "You are a helpful assistant focused on Red Hat Developer Hub development."
